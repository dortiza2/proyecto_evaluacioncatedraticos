(()=>{var e={};e.id=14,e.ids=[14],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3195:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>_,tree:()=>c}),r(685),r(1506),r(5866);var t=r(3191),s=r(8716),i=r(7922),o=r.n(i),n=r(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(a,l);let c=["",{children:["evaluations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,685)),"/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/evaluations/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/evaluations/page.tsx"],m="/evaluations/page",u={require:r,loadChunk:()=>Promise.resolve()},_=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/evaluations/page",pathname:"/evaluations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5744:(e,a,r)=>{Promise.resolve().then(r.bind(r,1628))},2900:(e,a,r)=>{Promise.resolve().then(r.bind(r,5091))},7256:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},1628:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>c});var t=r(326),s=r(7577),i=r(3569),o=r.n(i);let n="https://proyecto-evaluacioncatedraticos-back.onrender.com";if(!n)throw Error("NEXT_PUBLIC_API_URL no configurada");let l={manejo_tema:0,claridad:0,dominio:0,interaccion:0,recursos:0};function c(){let[e,a]=(0,s.useState)([]),[r,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(l),[m,u]=(0,s.useState)(""),[_,p]=(0,s.useState)(!1),[h,v]=(0,s.useState)(""),[x,b]=(0,s.useState)(""),j=(0,s.useMemo)(()=>{try{let e=[navigator.userAgent,Intl.DateTimeFormat().resolvedOptions().timeZone,screen.width+"x"+screen.height].join("|");return btoa(unescape(encodeURIComponent(e))).slice(0,48)}catch{return}},[]);function f(){i(""),d(l),u(""),v(""),b("")}async function g(e){e.preventDefault(),v(""),b("");let a=r?Object.values(c).some(e=>e<1||e>5)?"Todas las calificaciones deben ser entre 1 y 5":!m||m.trim().length<5?"El comentario debe tener al menos 5 caracteres":null:"Selecciona un catedr\xe1tico";if(a){v(a);return}p(!0);try{let e={teacher_id:r,...c,comment:(m??"").trim()||void 0,fingerprint:j},a=`${n}/v1/evaluations`;if(!(await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("No se pudo enviar la evaluaci\xf3n");b("\xa1Evaluaci\xf3n enviada! Gracias por tu aporte an\xf3nimo."),f()}catch(e){v(e.message||"Error al enviar la evaluaci\xf3n")}finally{p(!1)}}function N({label:e,field:a,value:r}){return(0,t.jsxs)("div",{className:o().formRow,children:[t.jsx("label",{className:o().label,children:e}),t.jsx("div",{className:o().stars,role:"radiogroup","aria-label":e,children:[1,2,3,4,5].map(s=>t.jsx("button",{type:"button",role:"radio","aria-checked":r===s,"aria-label":`${e} ${s} estrellas`,className:`${o().starButton} ${s<=r?o().starSelected:""}`,onClick:()=>{d(e=>({...e,[a]:s}))},children:"â˜…"},s))})]})}return t.jsx("main",{className:o().container,children:t.jsx("div",{className:o().card,children:(0,t.jsxs)("div",{className:o().grid,children:[(0,t.jsxs)("form",{onSubmit:g,children:[t.jsx("h1",{className:o().title,children:"Evaluaci\xf3n de Catedr\xe1tico"}),t.jsx("p",{className:o().subtitle,children:"Responde con sinceridad. Tu evaluaci\xf3n es an\xf3nima."}),(0,t.jsxs)("div",{className:o().section,children:[(0,t.jsxs)("div",{className:o().formRow,children:[t.jsx("label",{htmlFor:"teacher",className:o().label,children:"Catedr\xe1tico"}),(0,t.jsxs)("select",{id:"teacher",className:o().select,value:r,onChange:e=>i(e.target.value),required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Selecciona un catedr\xe1tico"}),e.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),t.jsx(N,{label:"Manejo del tema",field:"manejo_tema",value:c.manejo_tema}),t.jsx(N,{label:"Claridad al explicar",field:"claridad",value:c.claridad}),t.jsx(N,{label:"Dominio de la clase",field:"dominio",value:c.dominio}),t.jsx(N,{label:"Interacci\xf3n con estudiantes",field:"interaccion",value:c.interaccion}),t.jsx(N,{label:"Uso de recursos",field:"recursos",value:c.recursos}),(0,t.jsxs)("div",{className:o().formRow,children:[t.jsx("label",{htmlFor:"comment",className:o().label,children:"Comentario (obligatorio)"}),t.jsx("textarea",{id:"comment",className:o().textarea,rows:4,value:m,onChange:e=>u(e.target.value),placeholder:"Comparte tu experiencia (m\xednimo 5 caracteres)",required:!0,minLength:5})]}),(0,t.jsxs)("div",{className:o().actions,children:[t.jsx("button",{className:o().btnPrimary,type:"submit",disabled:_,children:_?"Enviando...":"Enviar"}),t.jsx("button",{className:o().btnGhost,type:"button",onClick:f,children:"Limpiar"})]}),(0,t.jsxs)("p",{className:o().averageText,children:["Promedio: ",((c.manejo_tema+c.claridad+c.dominio+c.interaccion+c.recursos)/5).toFixed(1)]}),h&&t.jsx("p",{className:o().error,children:h}),x&&t.jsx("p",{className:o().success,children:x}),t.jsx("p",{className:o().footerNote,children:"Nota: Se puede enviar un fingerprint an\xf3nimo para mejorar la integridad del sistema."})]})]}),(0,t.jsxs)("aside",{className:o().section,"aria-label":"Resumen de evaluaci\xf3n",children:[t.jsx("h2",{className:o().summaryTitle,children:"Resumen"}),(0,t.jsxs)("p",{className:o().summaryItem,children:["Catedr\xe1tico: ",r?e.find(e=>e.id===r)?.name:"No seleccionado"]}),(0,t.jsxs)("p",{className:o().summaryItem,children:["Promedio: ",((c.manejo_tema+c.claridad+c.dominio+c.interaccion+c.recursos)/5).toFixed(1)]}),(0,t.jsxs)("p",{className:o().summaryItem,children:["Comentario: ",m||"(Vac\xedo)"]})]})]})})})}},3569:e=>{e.exports={container:"Form_container__FwyX9",card:"Form_card__BcsL6",grid:"Form_grid__eFP5t",title:"Form_title__P1Nat",subtitle:"Form_subtitle__QpRJC",section:"Form_section__DPA1C",formRow:"Form_formRow__XyNKb",label:"Form_label__4nNJZ",select:"Form_select__WYlzK",textarea:"Form_textarea__2sQ0z",stars:"Form_stars__KqjoV",starButton:"Form_starButton__ELtpt",starSelected:"Form_starSelected__nvDKq",summaryTitle:"Form_summaryTitle__FCklT",summaryItem:"Form_summaryItem__iLAUd",averageText:"Form_averageText__1Pi9S",actions:"Form_actions__b0_jL",btnPrimary:"Form_btnPrimary__NUvXE",btnGhost:"Form_btnGhost__D8B2J",error:"Form_error__p9KLc",success:"Form_success__2IOJ9",footerNote:"Form_footerNote__cD4QD"}},685:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/evaluations/page.tsx#default`)},1506:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>n});var t=r(9510),s=r(5384),i=r.n(s);r(2136);var o=r(4493);function n({children:e}){return t.jsx("html",{lang:"en",className:i().className,suppressHydrationWarning:!0,children:(0,t.jsxs)("body",{children:[t.jsx(o.MF,{children:e}),t.jsx("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"}),t.jsx("link",{rel:"alternate icon",href:"/favicon.svg"})]})})}},2136:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[590],()=>r(3195));module.exports=t})();