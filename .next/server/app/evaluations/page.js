(()=>{var e={};e.id=14,e.ids=[14],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3195:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(685),r(1506),r(5866);var t=r(3191),s=r(8716),n=r(7922),o=r.n(n),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(a,l);let c=["",{children:["evaluations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,685)),"/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/evaluations/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/evaluations/page.tsx"],m="/evaluations/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/evaluations/page",pathname:"/evaluations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5744:(e,a,r)=>{Promise.resolve().then(r.bind(r,1628))},2900:(e,a,r)=>{Promise.resolve().then(r.bind(r,5091))},7256:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},1628:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>p,dynamic:()=>i,fetchCache:()=>l});var t=r(326),s=r(7577),n=r(3569),o=r.n(n);let i="force-dynamic",l="force-no-store",c="https://proyecto-evaluacioncatedraticos-back.onrender.com",d=e=>`${c}/v1${e}`;async function m(e,a){if(!c)return{ok:!1,offline:!0};try{let r=await fetch(d(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),cache:"no-store"});return{ok:r.ok,offline:!1,status:r.status}}catch{return{ok:!1,offline:!0}}}let u={manejo_tema:0,claridad:0,dominio:0,interaccion:0,recursos:0};function p(){let[e,a]=(0,s.useState)([]),[r,n]=(0,s.useState)(""),[i,l]=(0,s.useState)(u),[d,p]=(0,s.useState)(""),[h,_]=(0,s.useState)(!1),[x,v]=(0,s.useState)(""),[f,b]=(0,s.useState)(""),[j,g]=(0,s.useState)(!c),y=(0,s.useMemo)(()=>{try{let e=[navigator.userAgent,Intl.DateTimeFormat().resolvedOptions().timeZone,screen.width+"x"+screen.height].join("|");return btoa(unescape(encodeURIComponent(e))).slice(0,48)}catch{return}},[]);function P(){n(""),l(u),p(""),v(""),b("")}async function N(e){if(e.preventDefault(),v(""),b(""),j){alert("Backend no disponible. Intenta m\xe1s tarde.");return}let a=r?Object.values(i).some(e=>e<1||e>5)?"Todas las calificaciones deben ser entre 1 y 5":!d||d.trim().length<5?"El comentario debe tener al menos 5 caracteres":null:"Selecciona un catedr\xe1tico";if(a){v(a);return}_(!0);try{let e={teacher_id:r,...i,comment:(d??"").trim()||void 0,fingerprint:y},a=await m("/evaluations",e);if(!a.ok){alert(a.offline?"Backend no disponible. Intenta m\xe1s tarde.":`Error ${a.status||""}`);return}b("\xa1Evaluaci\xf3n enviada! Gracias por tu aporte an\xf3nimo."),P()}catch{v("Error al enviar la evaluaci\xf3n")}finally{_(!1)}}function S({label:e,field:a,value:r}){return(0,t.jsxs)("div",{className:o().formRow,children:[t.jsx("label",{className:o().label,children:e}),t.jsx("div",{className:o().stars,role:"radiogroup","aria-label":e,children:[1,2,3,4,5].map(s=>t.jsx("button",{type:"button",role:"radio","aria-checked":r===s,"aria-label":`${e} ${s} estrellas`,className:`${o().starButton} ${s<=r?o().starSelected:""}`,onClick:()=>{l(e=>({...e,[a]:s}))},children:"â˜…"},s))})]})}return t.jsx("main",{className:o().container,children:t.jsx("div",{className:o().card,children:(0,t.jsxs)("div",{className:o().grid,children:[(0,t.jsxs)("form",{onSubmit:N,children:[t.jsx("h1",{className:o().title,children:"Evaluaci\xf3n de Catedr\xe1tico"}),t.jsx("p",{className:o().subtitle,children:"Responde con sinceridad. Tu evaluaci\xf3n es an\xf3nima."}),(0,t.jsxs)("div",{className:o().section,children:[j&&t.jsx("div",{style:{padding:"8px",background:"#fff3cd",border:"1px solid #ffeeba",borderRadius:8,marginBottom:12,color:"#111"},children:"El backend no est\xe1 disponible. Puedes ver la UI, pero no se cargar\xe1n datos."}),(0,t.jsxs)("div",{className:o().formRow,children:[t.jsx("label",{htmlFor:"teacher",className:o().label,children:"Catedr\xe1tico"}),(0,t.jsxs)("select",{id:"teacher",className:o().select,value:r,onChange:e=>n(e.target.value),required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Selecciona un catedr\xe1tico"}),0===e.length?t.jsx("option",{value:"",disabled:!0,children:j?"Sin conexi\xf3n al backend":"Sin datos"}):e.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),t.jsx(S,{label:"Manejo del tema",field:"manejo_tema",value:i.manejo_tema}),t.jsx(S,{label:"Claridad al explicar",field:"claridad",value:i.claridad}),t.jsx(S,{label:"Dominio de la clase",field:"dominio",value:i.dominio}),t.jsx(S,{label:"Interacci\xf3n con estudiantes",field:"interaccion",value:i.interaccion}),t.jsx(S,{label:"Uso de recursos",field:"recursos",value:i.recursos}),(0,t.jsxs)("div",{className:o().formRow,children:[t.jsx("label",{htmlFor:"comment",className:o().label,children:"Comentario (obligatorio)"}),t.jsx("textarea",{id:"comment",className:o().textarea,rows:4,value:d,onChange:e=>p(e.target.value),placeholder:"Comparte tu experiencia (m\xednimo 5 caracteres)",required:!0,minLength:5})]}),(0,t.jsxs)("div",{className:o().actions,children:[t.jsx("button",{className:o().btnPrimary,type:"submit",disabled:h||j,children:h?"Enviando...":"Enviar"}),t.jsx("button",{className:o().btnGhost,type:"button",onClick:P,children:"Limpiar"})]}),(0,t.jsxs)("p",{className:o().averageText,children:["Promedio: ",((i.manejo_tema+i.claridad+i.dominio+i.interaccion+i.recursos)/5).toFixed(1)]}),x&&t.jsx("p",{className:o().error,children:x}),f&&t.jsx("p",{className:o().success,children:f}),t.jsx("p",{className:o().footerNote,children:"Nota: Se puede enviar un fingerprint an\xf3nimo para mejorar la integridad del sistema."})]})]}),(0,t.jsxs)("aside",{className:o().section,"aria-label":"Resumen de evaluaci\xf3n",children:[t.jsx("h2",{className:o().summaryTitle,children:"Resumen"}),(0,t.jsxs)("p",{className:o().summaryItem,children:["Catedr\xe1tico: ",r?e.find(e=>e.id===r)?.name:"No seleccionado"]}),(0,t.jsxs)("p",{className:o().summaryItem,children:["Promedio: ",((i.manejo_tema+i.claridad+i.dominio+i.interaccion+i.recursos)/5).toFixed(1)]}),(0,t.jsxs)("p",{className:o().summaryItem,children:["Comentario: ",d||"(Vac\xedo)"]})]})]})})})}},3569:e=>{e.exports={container:"Form_container__FwyX9",card:"Form_card__BcsL6",grid:"Form_grid__eFP5t",title:"Form_title__P1Nat",subtitle:"Form_subtitle__QpRJC",section:"Form_section__DPA1C",formRow:"Form_formRow__XyNKb",label:"Form_label__4nNJZ",select:"Form_select__WYlzK",textarea:"Form_textarea__2sQ0z",stars:"Form_stars__KqjoV",starButton:"Form_starButton__ELtpt",starSelected:"Form_starSelected__nvDKq",summaryTitle:"Form_summaryTitle__FCklT",summaryItem:"Form_summaryItem__iLAUd",averageText:"Form_averageText__1Pi9S",actions:"Form_actions__b0_jL",btnPrimary:"Form_btnPrimary__NUvXE",btnGhost:"Form_btnGhost__D8B2J",error:"Form_error__p9KLc",success:"Form_success__2IOJ9",footerNote:"Form_footerNote__cD4QD"}},685:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>o,dynamic:()=>s,fetchCache:()=>n});var t=r(8570);let s=(0,t.createProxy)(String.raw`/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/evaluations/page.tsx#dynamic`),n=(0,t.createProxy)(String.raw`/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/evaluations/page.tsx#fetchCache`),o=(0,t.createProxy)(String.raw`/Users/davidortiz/Documents/Proyectos VS/Seminario 3/front/app/evaluations/page.tsx#default`)},1506:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>i});var t=r(9510),s=r(5384),n=r.n(s);r(2136);var o=r(4493);function i({children:e}){return t.jsx("html",{lang:"en",className:n().className,suppressHydrationWarning:!0,children:(0,t.jsxs)("body",{children:[t.jsx(o.MF,{children:e}),t.jsx("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"}),t.jsx("link",{rel:"alternate icon",href:"/favicon.svg"})]})})}},2136:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[590],()=>r(3195));module.exports=t})();